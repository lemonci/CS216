#/*# Start of file loop4.a */
#
#/*# MIPSMARK 1.0 1/5/98 Copyright 1998 J. Waldron. */
#
## Question:
## Swap each pair of elements in
## the string "chararray" and
## print the resulting string.
## There will always be an even number
## of characters in "chararray".
## Finally, print endl .
##

#/*# Output format must be:		*/
#/*# "badcfe"		*/
#include <stdio.h>       /* for printf in C programs */

#/*##############################################
#					 	#
#		text segment			#
#						#
#################################################

	.text		
       	.globl __start 
__start:		# execution starts here  */


#/* Any changes above this line will be discarded by
# mipsmark. Put your answer between dashed lines. */
#/*-------------- start cut ----------------------- */

#/*  Student's Name: Mengqi Li		Account: mli	*/

la $t2, chararray			# t2 points to the string

loop: lb $t0, ($t2)				# get a byte from string
	  beqz $t0, strEnd 			# zero means end of string
	  add $t2, 1				# move t2 pointer one character
	  lb $t1, ($t2)				# get a byte from string
	  sb $t0, ($t2)				# store the value in t0 into t2
	  sub $t2, 1				# move t2 pointer back to one character
	  sb $t1, ($t2)				# store the value in t1 into t2
	  add $t2, 2				# move t2 pointer two characters
	  j loop
	  
strEnd:
	 la $a0, chararray
	 li $v0, 4
	 syscall				# print
	
	 la $a0, endl		# system call to print
	 li $v0, 4			# out a newline
	 syscall
	 
	 li $v0, 10
	 syscall				# au revoir...


#/*--------------  end cut  -----------------------
# Any changes below this line will be discarded by
# mipsmark. Put your answer between dashed lines.

#################################################
#                                               #
#               data segment                    #
#                                               #
#################################################

        .data			#*/
chararray:
	.asciiz "abcdef"
endl:	.asciiz "\n"

#
#/*# End of file loop4.a		*/
